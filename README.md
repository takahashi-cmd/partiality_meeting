# 偏愛会議
偏った愛（趣味）を持つ人同士でも繋がれる場を提供したいとの思いから作成したチャットアプリである。

## 概要
- 開発体系：チーム開発（ハッカソン）
- 制作期間：2ヶ月
- メンバー：5名

## 自分の担当
「バックエンド」として、DB設計、ルーティング機能、CRUD機能の作成を行った。
また、チームのサブリーダーとして、バックエンドメンバーのプルリクエストのレビュー、打ち合わせの議事録作成を行った。

## 背景
「趣味を話したいけれど、同じ趣味を持っている人がいない」、「熱量がすごくて、周囲の人から引かれるかもしれない」等の不安を抱えている人に対して、気軽にチャンネルを立ち上げ、共通の趣味を持つ人と繋がれる場を提供したいと思い、本チャットアプリを作成した。

## ターゲット
- 周囲に自分と同じ趣味を持つ人がいない人
- 知人に共有しづらい趣味を持つ人
- 自分の好きな趣味に対して、熱量の高い人との交流を求めている人

## 使用技術
### インフラ
- Docker

### フロントエンド
- HTML・CSS

### バックエンド
- MySQL
- Python

### フレームワーク・ライブラリ
- Flask
- Jinja2

## スタート画面

## アプリの起動・終了方法


### 1) 環境変数ファイル（.env）の作成
次のコマンドを入力して、ローカル環境に環境変数ファイル（.env）を作成する。
.env.exampleをコピーして、.envファイルをプロジェクトルートディレクトリ直下に保存する。

- Mac、Windows(PowerShell、Git Bash)の場合
```
cp .env.example .env
```
- Windows(コマンドプロンプト)の場合
```
copy .env.example .env
```

### 2) 起動時のdockerコマンド
初回起動ではイメージをビルドする必要があるため、以下のコマンドで起動させる。  
```
docker compose up --build
```

2回目以降は既にイメージがビルドされているため、以下のコマンドで起動してもよい。  
必要に応じて、 **-d** をupの後に付けて、バックグラウンドで起動してもよい。  
```
docker compose up -d
```

### 3) 終了時のdockerコマンド
終了時は以下のコマンドで終了する。  
必要に応じて、ボリューム（db_data）を削除する場合は、 **-v** をdownのあとに付ける。  
```
docker compose down
```

## アクセス先
ブラウザで以下のアドレスを入力して、アプリののログイン画面が開いていることを確認する。
Flaskのポート番号は「55000」に設定している。
```
http://localhost:55000/
```

## ディレクトリ・ファイル構成
```
.
├── ChatApp              # 本アプリディレクトリ
│   ├── __init__.py      # パッケージ化のための空ファイル
│   ├── app.py           # 本アプリの起動、ルーティングのためのファイル
│   ├── models.py        # テーブル定義のためのファイル
│   ├── static           # 静的ファイル用ディレクトリ
│   ├── templates        # Template(HTML)用ディレクトリ
│   └── util
├── Docker
│   ├── Flask
│   │   └── Dockerfile   # Flask(Python)用Dockerファイル
│   └── MySQL
│       ├── Dockerfile   # MySQL用Dockerファイル
│       ├── init.sql     # MySQL初期設定ファイル
│       └── my.cnf       # MySQL設定ファイル
├── .env.example         # 環境変数ファイル（.env）を作成する為のサンプルファイル
├── docker-compose.yml   # Docker-composeファイル
└── requirements.txt     # 使用モジュール記述ファイル
```

## 機能一覧および進捗状況
### MVP機能
| **MVP** | **機能名** | **進捗状況** |
| --- | --- | --- |
| **基本機能** | ユーザー登録 | ◯ |
|  | ログイン機能 | ◯ |
|  | ログアウト機能 | ◯ |
|  | プロフィール情報変更機能 | ◯ |
| **チャット機能** | チャットルーム作成機能 | ◯ |
|  | チャットルーム入退室機能 | ◯ |
|  | チャットルーム削除機能 | ✕ |
|  | コメント投稿機能 | ◯ |
|  | コメント編集・削除機能 | ◯ |
| **UI向上機能** | エラー画面表示機能 | ✕ |
|  | チャットルーム検索機能 | ◯ |
|  | チャットルーム一覧ページの遷移機能 | ◯ |

### 拡張機能
| **拡張機能** | **機能名** | **進捗状況** |
| --- | --- | --- |
| **優先追加機能** | ページネーション機能 | ✕ |
|  | コメント投稿の日時表示機能 | ◯ |
| **発展機能** | 趣味マッチング機能 | ✕ |
|  | テンプレート会話機能 | ✕ |
|  | ブロック機能 | ✕ |
|  | チャットルームのユーザー名、人数の表示機能 | ✕ |
|  | 人気チャンネルのランキング表示機能 | ◯ |
| **UI向上機能** | 文字の色やフォント変更機能 | ✕ |
|  | コメントの投稿数表示機能 | ✕ |
|  | カレンダー共有機能 | ✕ |

## 画面遷移図
<img width="auto" height="auto" alt="Image" src="https://github.com/user-attachments/assets/a1acb01b-f980-4953-9e3e-52f3e357c98a" />

## DB設計
### ER図
**1)論理モデル**
<img width="auto" height="auto" alt="Image" src="https://github.com/user-attachments/assets/58e4d43d-ebbb-4477-a51d-11778235c00a" />

**2)物理モデル**
<img width="auto" height="auto" alt="Image" src="https://github.com/user-attachments/assets/e5164785-7eb1-45f8-8ae2-b1c3b1d4a081" />

### ER図の考え方

ー以上ー


